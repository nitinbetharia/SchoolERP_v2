<% layout('layout') -%>
<h1 class="text-2xl font-semibold mb-4">Users</h1>
<form method="GET" class="mb-4 flex gap-2">
  <input name="search" value="<%= search||'' %>" placeholder="Search..." class="border rounded px-3 py-2 w-64">
  <select name="role" class="border rounded px-3 py-2">
    <option value="">All roles</option>
    <option>TRUST_ADMIN</option>
    <option>SCHOOL_ADMIN</option>
    <option>TEACHER</option>
    <option>ACCOUNTANT</option>
    <option>PARENT</option>
    <option>STUDENT</option>
  </select>
  <button class="px-4 py-2 bg-blue-600 text-white rounded">Filter</button>
</form>
<table class="w-full bg-white rounded-lg shadow">
  <thead>
    <tr class="text-left border-b">
      <th class="p-3">Name</th>
      <th class="p-3">Email</th>
      <th class="p-3">Role</th>
      <th class="p-3">Status</th>
    </tr>
  </thead>
  <tbody>
  <% (users||[]).forEach(u => { %>
    <tr class="border-b hover:bg-gray-50">
      <td class="p-3"><%= u.first_name %> <%= u.last_name %></td>
      <td class="p-3"><%= u.email %></td>
      <td class="p-3"><%= u.role %></td>
      <td class="p-3"><%= u.is_active ? 'Active' : 'Inactive' %></td>
    </tr>
  <% }) %>
  </tbody>
</table>
<% include partials/_pagination %>
